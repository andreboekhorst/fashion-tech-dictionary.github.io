{"ast":null,"code":"import _slicedToArray from\"/Users/andre/Repositories/fashion-tech-dictionary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useEffect,useState}from'react';import{BrowserRouter as Router,Link,useLocation,useHistory}from\"react-router-dom\";var useQuery=function useQuery(){return new URLSearchParams(useLocation().search);};var MenuComponent=function MenuComponent(props){var query=useQuery();var history=useHistory();var callBack=props.callBack;var allFilters=props.filters;var filtery=query.get('active')&&query.get('active').split(',');var _useState=useState(filtery||allFilters),_useState2=_slicedToArray(_useState,2),activeFilters=_useState2[0],setActiveFilters=_useState2[1];var _activeFilters=[];var toggleFilter=function toggleFilter(e,filter){e.preventDefault();if(allFilters.length<=activeFilters.length){activeFilters.splice(0,activeFilters.length);activeFilters.push(filter);}else if(activeFilters.length==1&&activeFilters.includes(filter)){}else if(activeFilters.includes(filter)){var filterPos=activeFilters.indexOf(filter);activeFilters.splice(filterPos,1);}else{activeFilters.push(filter);}// if less then toggle.\n// const filterPos       = activeFilters.indexOf( filter );\n// if( filterPos >= 0 ){\n//   activeFilters.splice(filterPos, 1)\n// } else {\n//   activeFilters.push( filter );\n// }\nhistory.push({pathname:'/',search:'?active='+activeFilters.join(',')});setActiveFilters(activeFilters);callBack(activeFilters);};var isActiveFilter=function isActiveFilter(filter){return activeFilters.includes(filter);};return React.createElement(\"div\",{className:\"menuBar\"},React.createElement(\"div\",{className:\"filters\"},allFilters.map(function(filter,i){if(filter=='')return false;return React.createElement(\"span\",{key:filter},React.createElement(\"a\",{onClick:function onClick(e){return toggleFilter(e,filter);},className:isActiveFilter(filter)?'':'disabled'},filter));})),React.createElement(\"div\",{className:\"rightSide\"},React.createElement(Link,{to:\"/about\"},\"about\")));};export default MenuComponent;","map":{"version":3,"sources":["/Users/andre/Repositories/fashion-tech-dictionary/src/components/menuComponent.js"],"names":["React","useRef","useEffect","useState","BrowserRouter","Router","Link","useLocation","useHistory","useQuery","URLSearchParams","search","MenuComponent","props","query","history","callBack","allFilters","filters","filtery","get","split","activeFilters","setActiveFilters","_activeFilters","toggleFilter","e","filter","preventDefault","length","splice","push","includes","filterPos","indexOf","pathname","join","isActiveFilter","map","i"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Link,\n  useLocation,\n  useHistory\n} from \"react-router-dom\";\n\nconst useQuery = () => {\n  return new URLSearchParams(useLocation().search);\n}\n\n const MenuComponent = (props) => {\n    let   query       = useQuery();\n    const history     = useHistory();\n\n    const callBack    = props.callBack;\n    const allFilters  = props.filters;\n\n    const filtery = query.get('active') && query.get('active').split(',');\n    const [activeFilters, setActiveFilters] = useState( filtery || allFilters );\n    let _activeFilters = [];\n\n    const toggleFilter = (e, filter) => {\n        e.preventDefault();\n\n        if( allFilters.length <= activeFilters.length){\n          activeFilters.splice(0,activeFilters.length);\n          activeFilters.push( filter );\n\n        } else if ( activeFilters.length == 1 && activeFilters.includes(filter) ) {\n\n\n        } else if ( activeFilters.includes(filter) ) {\n          const filterPos       = activeFilters.indexOf( filter );\n          activeFilters.splice(filterPos, 1);\n          \n        } else {\n          activeFilters.push( filter );\n        }\n\n        // if less then toggle.\n\n\n        // const filterPos       = activeFilters.indexOf( filter );\n        \n        // if( filterPos >= 0 ){\n        //   activeFilters.splice(filterPos, 1)\n        // } else {\n        //   activeFilters.push( filter );\n        // }\n\n        history.push({\n          pathname: '/',\n          search: '?active=' + activeFilters.join(',')\n        })\n        \n        setActiveFilters( activeFilters );\n        callBack( activeFilters );\n   \n    }\n\n    const isActiveFilter = filter => {\n      return activeFilters.includes(filter)\n    }\n\n    return (\n      <div className=\"menuBar\">\n\n      <div className=\"filters\">\n        { allFilters.map( (filter, i) => {\n            if( filter == '' ) return false;\n            return (\n              <span key={ filter }>\n                <a onClick={ e => toggleFilter(e, filter) } className={ isActiveFilter(filter) ? '' : 'disabled' }>{ filter }</a>\n              </span>\n            )\n          })\n        }\n      </div>\n      <div className=\"rightSide\">\n          <Link to=\"/about\">about</Link>\n        </div>\n    </div>\n    );\n}\n\nexport default MenuComponent\n\n"]},"metadata":{},"sourceType":"module"}